// Test output.
void testPrint(const char * const str, ...);

exception ExampleError1(int value1);
exception ExampleError2(int value1, int value2);
exception ExampleError3(int value1, int value2, int value3);
exception ExampleError4(int value1, int value2, int value3, int value4);

void throwFunction(int throwIndex) {
	try {
		if (throwIndex == 0) {
			testPrint("Not throwing."C);
		}
		if (throwIndex == 1) {
			testPrint("Throwing first exception."C);
			throw ExampleError1(1);
		}
		if (throwIndex == 2) {
			testPrint("Throwing second exception."C);
			throw ExampleError2(2, 3);
		}
		if (throwIndex == 3) {
			testPrint("Throwing third exception."C);
			throw ExampleError3(4, 5, 6);
		}
		if (throwIndex == 4) {
			testPrint("Throwing fourth exception."C);
			throw ExampleError4(7, 8, 9, 10);
		}
	} catch (ExampleError1 error) {
		testPrint("Caught exception V1 with value %d!"C,
			error.value1);
	} catch (ExampleError2 error) {
		testPrint("Caught exception V2 with values %d and %d!"C,
			error.value1, error.value2);
	} catch (ExampleError3 error) {
		testPrint("Caught exception V3 with values %d, %d and %d!"C,
			error.value1, error.value2, error.value3);
	} catch (ExampleError4 error) {
		testPrint("Caught exception V4 with values %d, %d, %d and %d!"C,
			error.value1, error.value2, error.value3, error.value4);
	}
}

// Entry point.
int testEntryPoint(int argc, char ** argv) {
	throwFunction(0);
	throwFunction(1);
	throwFunction(2);
	throwFunction(3);
	throwFunction(4);
	return 0;
}

